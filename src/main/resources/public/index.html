<!doctype html>
<html ng-app="ticket">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.12/angular-material.min.css">
	<!-- Angular Material requires Angular.js Libraries -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-animate.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-aria.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.6/angular-messages.min.js"></script>

	<!-- Angular Material Library -->
	<script src="https://ajax.googleapis.com/ajax/libs/angular_material/1.1.12/angular-material.min.js"></script>
<script src="js/ticket.js"></script>
<script type="text/javascript">
	!function(a,b,c,d,e,f,g,h){a.RaygunObject=e,a[e]=a[e]||function(){
		(a[e].o=a[e].o||[]).push(arguments)},f=b.createElement(c),g=b.getElementsByTagName(c)[0],
			f.async=1,f.src=d,g.parentNode.insertBefore(f,g),h=a.onerror,a.onerror=function(b,c,d,f,g){
		h&&h(b,c,d,f,g),g||(g=new Error(b)),a[e].q=a[e].q||[],a[e].q.push({
			e:g})}}(window,document,"script","//cdn.raygun.io/raygun4js/raygun.min.js","rg4js");
</script>

<title>Escapify</title>

<link href="css/style.css" rel="stylesheet">

</head>

<body>
	<div ng-controller="CargaTickets">




		<div ng-cloak>
			<md-content>

                <md-toolbar class="md-medium-tall" ng-if="true">
                    <div class="md-toolbar-tools">
                        <h2>
                            Escapify
                        </h2>
                    </div>
                </md-toolbar>

				<md-tabs md-stretch-tabs="always" md-swipe-content="true" md-dynamic-height class="md-primary" md-selected="tabSelectedIndex" md-center-tabs>
					<md-tab label="Escapistas">
						<md-content class="md-padding">

                                <md-content  ng-show="!isEscapistaDetalle.show" style="margin: 16px; padding:16px">
                                    <h2 class="md-display-1">Elija su escapista</h2>
                                    <md-select placeholder="" ng-change="cargarDatosEscapista()" ng-model="escapista" md-on-open="cargarEscapistas()" style="min-width: 200px;">
                                        <md-option ng-value="escapista"  ng-repeat="escapista in escapistas">{{escapista.nombre}}</md-option>
                                    </md-select>
                                </md-content>

								<div ng-show="isEscapistaDetalle.show"  title="Detalle Escapista">
                                    <h2 class="md-display-1">Escapista</h2>
                                    <md-content style="margin: 16px; padding:16px">
                                        <h3>Usuario: {{escapistaDetalle.usuario}}</h3>
                                        <h3>Nombre: {{escapistaDetalle.nombre}}</h3>
                                        <h3>Preferencias</h3>
                                        <div layout>
                                            <div flex="15" layout layout-align="center center">
                                                <span class="md-body-2">Terror</span>
                                            </div>
                                            <md-slider md-discrete flex  ng-model="escapistaDetalle.preferencia.terror" min="1" max="10" ng-disabled="true" step=""
                                                   aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                                        </div>
                                        <div layout>
                                            <div flex="15" layout layout-align="center center">
                                                <span class="md-body-2">Aventura</span>
                                            </div>
                                            <md-slider md-discrete flex  ng-model="escapistaDetalle.preferencia.aventura" min="1" max="10" ng-disabled="true" step=""
                                                       aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                                        </div>
                                        <div layout>
                                            <div flex="15" layout layout-align="center center">
                                                <span class="md-body-2">Dificultad</span>
                                            </div>
                                            <md-slider md-discrete flex  ng-model="escapistaDetalle.preferencia.dificultad" min="1" max="10" ng-disabled="true" step=""
                                                       aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                                        </div>

                                        <h3>Salas jugadas</h3>

                                        <md-content>
                                            <md-list flex>
                                                <md-list-item class="md-2-line" ng-repeat="salaJugada in escapistaDetalle.salas">
                                                    <div class="md-list-item-text">
                                                        <h3> Nombre: {{ salaJugada.nombre }} </h3>
                                                        <h3> Preferencias: {{ salaJugada.nombre }} </h3>
                                                        <ul>
                                                            <li>
                                                                Terror: {{salaJugada.preferencia.terror}}
                                                            </li>
                                                            <li>
                                                                Aventura: {{salaJugada.preferencia.aventura}}
                                                            </li>
                                                            <li>
                                                                Dificultad: {{salaJugada.preferencia.dificultad}}
                                                            </li>
                                                        </ul>
                                                    </div>
                                                    <md-divider ng-if="!$last"></md-divider>
                                                </md-list-item>
                                            </md-list>
                                        </md-content>



                                    </md-content>
								</div>





						</md-content>
					</md-tab>

					<md-tab label="Equipos" ng-disabled="!isEscapistaDetalle.show">
						<md-content class="md-padding">
                                <h2 class="md-display-1">Equipos</h2>
                                <md-content>
                                    <md-list flex>
                                        <md-list-item class="md-2-line" ng-repeat="equipoEscapista in escapistaDetalle.equipos">
                                            <div class="md-list-item-text">
                                                <h3> Nombre: {{ equipoEscapista.nombre }} </h3>
                                                <h3> Integrantes: </h3>
                                                <ul>
                                                    <li  ng-repeat="integrante in equipoEscapista.integrantes">
                                                       {{integrante}}
                                                    </li>
                                                </ul>
                                            </div>
                                            <md-button ng-click="salasParaEquipo(equipoEscapista.id)" class="md-primary">Buscar Sala</md-button>
                                            <md-divider ng-if="!$last"></md-divider>
                                        </md-list-item>
                                    </md-list>
                                </md-content>
						</md-content>
					</md-tab>

					<md-tab label="Salas" ng-disabled="!mostrarSalas">
						<md-content class="md-padding">
							<h2 class="md-display-1">Salas</h2>

                            <h3>Preferencias del equipo</h3>
                            <div layout>
                                <div flex="15" layout layout-align="center center">
                                    <span class="md-body-2">Terror</span>
                                </div>
                                <md-slider md-discrete flex  ng-model="busquedaSalas.equipoPreferencias.terror" min="1" max="10" ng-disabled="true" step=""
                                           aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                            </div>
                            <div layout>
                                <div flex="15" layout layout-align="center center">
                                    <span class="md-body-2">Aventura</span>
                                </div>
                                <md-slider md-discrete flex  ng-model="busquedaSalas.equipoPreferencias.aventura" min="1" max="10" ng-disabled="true" step=""
                                           aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                            </div>
                            <div layout>
                                <div flex="15" layout layout-align="center center">
                                    <span class="md-body-2">Dificultad</span>
                                </div>
                                <md-slider md-discrete flex  ng-model="busquedaSalas.equipoPreferencias.dificultad" min="1" max="10" ng-disabled="true" step=""
                                           aria-label="Disabled discrete 3" ng-readonly="true"></md-slider>
                            </div>

                            <md-content  ng-show="!historial" style="margin: 16px; padding:16px">
                                <h3>Recomendaciones</h3>
                                <md-button ng-click="verHistorial(true)" class="md-primary">Ver historial</md-button>

                                <md-list flex>
                                    <md-list-item class="md-2-line" ng-repeat="salaRecomendada in busquedaSalas.salasRanking">
                                        <div class="md-list-item-text">
                                            <h3> Nombre: {{ salaRecomendada.nombre }} </h3>
                                            <h3> Distancia Preferencias: {{ salaRecomendada.puntaje }} </h3>
                                            <h3> Preferencias:</h3>
                                            <ul>
                                                <li>
                                                    Terror: {{salaRecomendada.preferencia.terror}}
                                                </li>
                                                <li>
                                                    Aventura: {{salaRecomendada.preferencia.aventura}}
                                                </li>
                                                <li>
                                                    Dificultad: {{salaRecomendada.preferencia.dificultad}}
                                                </li>
                                            </ul>
                                        </div>
                                        <md-divider ng-if="!$last"></md-divider>
                                    </md-list-item>
                                </md-list>

                            </md-content>


                            <md-content  ng-show="historial" style="margin: 16px; padding:16px">
                                <h3>Historial</h3>
                                <md-button ng-click="verHistorial(false)" class="md-primary">Ver recomendaciones</md-button>

                                <md-list flex>
                                    <md-list-item class="md-2-line" ng-repeat="salaHistorial in busquedaSalas.salasJugadas">
                                        <div class="md-list-item-text">
                                            <h3> Nombre: {{ salaHistorial.nombre }} </h3>
                                            <h3> Preferencias:</h3>
                                            <ul>
                                                <li>
                                                    Terror: {{salaHistorial.preferencia.terror}}
                                                </li>
                                                <li>
                                                    Aventura: {{salaHistorial.preferencia.aventura}}
                                                </li>
                                                <li>
                                                    Dificultad: {{salaHistorial.preferencia.dificultad}}
                                                </li>
                                            </ul>
                                        </div>
                                        <md-divider ng-if="!$last"></md-divider>
                                    </md-list-item>
                                </md-list>


                            </md-content>





						</md-content>
					</md-tab>

				</md-tabs>
			</md-content>
		</div>

	</div>






	<script>
		rg4js('apiKey', 'ascWv3FpqAJeoDwZVlsVQg');
		rg4js('enableCrashReporting', true);
	</script>

</body>
</html>